# üéØ Claude CLI Corporate Network Fix

## Problem
Claude CLI was failing with connection errors:
```
API Error (Connection error.) ¬∑ Retrying...
TypeError (fetch failed)
```

## Root Cause
The issue was Node.js encountering `SELF_SIGNED_CERT_IN_CHAIN` errors due to corporate certificate interception/proxy.

## Solution ‚úÖ

### 1. **Collect Corporate Certificates** (Already Done!)
```bash
collect-certs --collect-only
```
This created: `%USERPROFILE%\.certificates\host.crt`

### 2. **Configure Node.js to Trust Corporate Certificates**
```powershell
# Set for current session
$env:NODE_EXTRA_CA_CERTS = "$env:USERPROFILE\.certificates\host.crt"

# Set permanently (already done)
setx NODE_EXTRA_CA_CERTS "$env:USERPROFILE\.certificates\host.crt"
```

### 3. **Verification**
```bash
# Test Node.js HTTPS connectivity
node -e "require('https').get('https://api.anthropic.com', r => console.log('‚úÖ SUCCESS:', r.statusCode)).on('error', e => console.log('‚ùå ERROR:', e.code))"

# Test Claude CLI
claude --version
```

## üéâ Result
- ‚úÖ **Claude CLI now works in corporate environments!**
- ‚úÖ **Node.js applications can now connect to HTTPS endpoints**
- ‚úÖ **Automatic on every new PowerShell session**

## Technical Details
- **Environment Variable**: `NODE_EXTRA_CA_CERTS`
- **Certificate Bundle**: Contains 82 corporate certificates
- **Scope**: All Node.js applications, including Claude CLI
- **Persistence**: Set in Windows environment and PowerShell profile

## Other Applications Fixed
This solution also fixes certificate issues for:
- npm/yarn package installations
- Any Node.js application making HTTPS requests
- VS Code extensions that use Node.js
- Electron applications

---
**Generated by:** Windows Certificate Collection Tool v2.0.0  
**Date:** September 22, 2025
